{"version":3,"sources":["../../../part2/phonebook/src/services/numbers.js","../../../part2/phonebook/src/components/Filter.js","../../../part2/phonebook/src/components/Numbers.js","../../../part2/phonebook/src/components/NumberForm.js","../../../part2/phonebook/src/components/Notification.js","../../../part2/phonebook/src/components/App.js","../../../part2/phonebook/src/index.js"],"names":["baseUrl","services_numbers","axios","get","then","response","data","newObject","post","id","put","concat","delete","Filter","_ref","value","onChange","react_default","a","createElement","Numbers","numbers","handleDelete","map","number","key","name","onClick","FormInput","label","NumberForm","_ref2","onSubmit","inputs","_ref3","NumberForm_FormInput","type","Notification","message","successful","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setMessage","_useState5","_useState6","successfulMessage","setSuccessfulMessage","useEffect","numbersService","_useState7","_useState8","newName","setNewName","_useState9","_useState10","newNumber","setNewNumber","_useState11","_useState12","search","setSearch","showMessage","text","arguments","length","undefined","setTimeout","event","target","personsToShow","filter","toLowerCase","indexOf","components_Notification","components_Filter","components_NumberForm","preventDefault","person","find","window","confirm","updatedPerson","objectSpread","returned","p","newPerson","components_Numbers","catch","e","finally","n","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.0baae7cd.chunk.js","sourcesContent":["import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n//const baseUrl = 'https://polar-journey-51146.herokuapp.com/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteNumber = (id) => axios.delete(`${baseUrl}/${id}`)\r\n\r\nexport default { getAll, create, update, deleteNumber }\r\n","import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => (\r\n    <div>\r\n        filter shown with <input value={value} onChange={onChange} />\r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Numbers = ({numbers, handleDelete}) => {\r\n    const numberList = () => {\r\n        return numbers.map(\r\n            number => <p key={number.id}>{number.name} {number.number} <button onClick={() => handleDelete(number)}>delete</button></p>\r\n        )\r\n    }\r\n    return numberList()\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst FormInput = ({label, value, onChange}) => (\r\n    <div>\r\n        {label}: <input value={value} onChange={onChange} />\r\n    </div>\r\n)\r\n\r\nconst NumberForm = ({onSubmit, inputs}) => {\r\n    const formInputs = () => inputs.map(\r\n        ({label, value, onChange}) => <FormInput key={label} label={label} value={value} onChange={onChange} />\r\n    )\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            {formInputs()}\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NumberForm","import React from 'react'\r\n\r\nconst Notification = ({ message, successful }) => {\r\n    if (message === null) {\r\n         return null\r\n    }\r\n\r\n    const className = 'message ' + (successful ? '' : 'red')\r\n  \r\n    return (\r\n        <div className={className}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport numbersService from './../services/numbers'\r\n\r\nimport Filter from './Filter'\r\nimport Numbers from './Numbers'\r\nimport NumberForm from './NumberForm'\r\nimport Notification from './Notification'\r\n\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [message, setMessage] = useState(null)\r\n    const [successfulMessage, setSuccessfulMessage] = useState(null)\r\n    \r\n    useEffect(() => {\r\n        numbersService.getAll()\r\n            .then(response => {\r\n                setPersons(response)\r\n        })\r\n    }, []);\r\n\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ search, setSearch ] = useState('')\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n    const handleSearchChange = (event) => {\r\n        setSearch(event.target.value)\r\n    }\r\n    const handleDelete = ({name, number, id}) => {\r\n        const confirmed = window.confirm(`Delete ${name}?`)\r\n        if (!confirmed) {\r\n            return\r\n        }\r\n        numbersService.deleteNumber(id)\r\n            .catch(e => {\r\n                showMessage(`Information of ${name} has already been removed from server`, false)\r\n            })\r\n            .finally(() => {\r\n                setPersons(persons.filter(n => n.id !== id))\r\n            })\r\n    }\r\n    const showMessage = (text, successful = true) => {\r\n        setMessage(text)\r\n        setSuccessfulMessage(successful)\r\n        setTimeout(() => {\r\n            setMessage(null)\r\n        }, 4000)\r\n    }\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        const person = persons.find(person => person.name === newName)\r\n\r\n        if (person && person.id) {\r\n            const confirmed = window.confirm(`${person.name} is already added in the phonebook, replace the old number with a new one?`)\r\n            if (!confirmed) {\r\n                return\r\n            }\r\n            const updatedPerson = {\r\n                ...person,\r\n                number: newNumber\r\n            }\r\n            numbersService\r\n                .update(person.id, updatedPerson)\r\n                .then(returned => {\r\n                    setPersons(persons.map(\r\n                        p => p.id === person.id\r\n                            ? returned\r\n                            : p\r\n                    ))\r\n                    showMessage(`Updated ${person.name}`)\r\n                })\r\n            setNewName('')\r\n            setNewNumber('')\r\n            return\r\n        }\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        numbersService\r\n            .create(newPerson)\r\n            .then(response => {\r\n                setPersons(persons.concat(response))\r\n                showMessage(`Added ${newPerson.name}`)\r\n            })\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const inputs = [\r\n        {\r\n            label: 'name',\r\n            value: newName,\r\n            onChange: handleNameChange\r\n        },\r\n        {\r\n            label: 'number',\r\n            value: newNumber,\r\n            onChange: handleNumberChange\r\n        }\r\n    ]\r\n\r\n    const personsToShow = !search\r\n        ? persons\r\n        : persons.filter(({name}) => name.toLowerCase().indexOf(search.toLowerCase()) >= 0)\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} successful={successfulMessage}/>\r\n            <Filter value={search} onChange={handleSearchChange}/>\r\n            <NumberForm\r\n                onSubmit={handleSubmit}\r\n                inputs={inputs}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Numbers numbers={personsToShow} handleDelete={handleDelete} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\n\nimport App from './components/App'\n\nReactDOM.render(<App />, \n    document.getElementById('root')\n)"],"sourceRoot":""}